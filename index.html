<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Christmas Party Drink Menu">
  <title>Christmas Party Drink Menu</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Last+Christmas&display=swap" rel="stylesheet">

</head>
<body>
  <!-- <div class="logo-container">
    <img src="images/Kickin_Santa.png" alt="Party Logo" class="logo">
  </div> -->
  
  <header>
    <h2><mark>V1.26</mark></h2>
    <h1>Christmas <br>Sips & Spirits</h1>
    <p class="mixologists">
      <span class="mixologists-title">Christmas Spirit-ologists:</span><br>
      <span class="mixologists-names">AJ & Brandy</span>
    </p>
  </header>

  <nav class="category-nav">
    <!-- Row 1: Centered Surprise Me -->
    <div class="nav-top-row">
      <button type="button" id="random-cocktail-btn">üé≤ Choose A Cocktail For Me!</button>
    </div>

    <!-- Row 2‚Äì3: The 6 regular category buttons -->
    <div class="nav-button-grid">
      <button type="button" data-target="specialty-drinks">üç∏ Cocktails</button>
      <button type="button" data-target="punches">ü´ó Non-Alcoholic</button>
      <button type="button" data-target="beers">üç∫ Beers</button>
      <button type="button" data-target="Hard_Selzter">ü´ß Seltzers</button>
      <button type="button" data-target="mixers">‚öóÔ∏è Sodas & Mixers</button>
      <button type="button" data-target="wines">üç∑ Wines</button>
    </div>
  </nav>

  
  <main>
    <!-- Speciality Cocktails Section -->
    <section class="drink-category" id="specialty-drinks">
      <h2>Specialty Cocktails<span class="triangle"></span></h2>
      <div class="dropdown-content">
        <div class="drink">
          <h3 class="Exclude-Drink">Elf-Made Exclusive</h3>
          <p>A festive, made-to-order cocktail crafted exactly to your holiday tastes‚Äîsomething special just for you and not on the menu.</p>
        </div>
        <div class="drink">
          <h3>Rose Gimlet</h3>
          <p>A bright, rosy refresher with a hint of floral cheer, perfect for keeping the holiday vibes merry and light!</p>
          <p class="ingredients-line"><strong>Ingredients:</strong> Gin, Rose Syrup, Lime, Soda</p>
        </div>
        <div class="drink">
          <h3>Cinnamon Smoked Old Fashioned</h3>
          <p>A smooth, spirit-forward treat infused with aromatic cinnamon smoke that brings instant winter-wonderland warmth.</p>
          <p class="ingredients-line"><strong>Ingredients:</strong> Bourbon, Cinnamon Simple Syrup, Bitters, Cinnamon Smoked Glass</p>
        </div>
        <div class="drink">
          <h3>Gingerbread Daiquiri</h3>
          <p>A rum-filled delight with a touch of gingerbread warmth, perfect for cozying up this season!</p>
          <p class="ingredients-line"><strong>Ingredients:</strong><mark>TBD</mark></p>
        </div>
        <div class="drink">
          <h3>Spiced Brown Sugar Mule</h3>
          <p>A spiced twist on a classic, perfect for adding some holiday cheer to your glass!</p>
          <p class="ingredients-line"><strong>Ingredients:</strong> Vodka, Lemon, Spiced Brown Sugar Syrup, Ginger Beer</p>
        </div>
        <div class="drink">
          <h3>Gingerbread Russian</h3>
          <p>A creamy, gingerbread-spiced indulgence that tastes like a holiday dessert in a glass.</p>
          <p class="ingredients-line"><strong>Ingredients:</strong> Vodka, Kahlua, Gingerbread Syrup, Cream</p>
        </div>
        <div class="drink">
          <h3>Mocktail Turned Cocktail</h3>
          <p>All non-alcoholic drinks can be upgraded with a spirit of your choice‚Äîjust tell us you want it <em><strong>naughty</strong></em>.</p>
        </div>
      </div>
    </section>



    <!-- Punches Section -->
    <section class="drink-category" id="punches">
      <h2>
        <p>Non-Alcoholic Drinks</p>
        <span class="triangle"></span>
      </h2>
      <div class="dropdown-content">
        <div class="drink">
          <h3>Cranberry Mojito</h3>
          <p>A non-alcoholic, bright, bubbly blend of cranberry, mint, and lime that brings merry holiday cheer to every sip!</p>
          <p class="ingredients-line"><strong>Ingredients:</strong> Cranberry, Mint, Lime, Soda</p>
        </div>
        <div class="drink">
          <h3>Rosemary Lime-ade</h3>
          <p>A vibrant blend of lime and rosemary that‚Äôs deliciously refreshing, totally non-alcoholic, and perfect for holiday sipping.</p>
          <p class="ingredients-line"><strong>Ingredients:</strong> Rosemary, Lime, Lemon, Soda</p>
        </div>
      </div>
    </section>



    
    <!-- Beers Section -->
    <section class="drink-category" id="beers">
      <h2>Beers<span class="triangle"></span></h2>
      <div class="dropdown-content">

        <div class="drink">
          <h3>Lager</h3>
          <p>-Miller Lite (4.2%)</p>
          <p>-Zywiec (5.6%)</p>
        </div>
        
        <div class="drink">
          <h3>Hefewiezen</h3>
          <p>-HumpenScrump ‚Äî Pollyanna (5.2%)</p>
        </div>

        <div class="drink">
          <h3>Amber</h3>
          <p>-Amber Ale ‚Äî Bell's Brewery (5.8%)</p>
          <p>-Evergreen Amber IPA ‚Äî Music Ales (Homebrew) (6.1%)</p>
        </div>

        <div class="drink">
          <h3>IPA</h3>
          <p>-Zombie Dust ‚Äî Three Floyds Brewing (6.2%)</p>
          <p>-Lagunitas ‚Äî Lagunitas (6.2%)</p>
        </div>

        <div class="drink">
          <h3>Barrel Aged / Imperial Stout</h3>
          <p>-Backwoods Bastard - Founders (Ale - 11.0%)</p>
          <p>-Orin ‚Äî Half Acre (Ale - 13.2%)</p>
          <p>-Sticky Date ‚Äî Music Ales (Homebrew) (Barleywine - 12.0%)</p>
          <p>-Before Land Shook ‚Äî Half Acre (Stout - 15.0%)</p>
          <p>-Dragon's Milk ‚Äî New Holland (Stout - 11.0%)</p>
          <p>-Dragon's Milk Reserve Coconut Rum Barrel ‚Äî New Holland (Stout - 11.0%)</p>
          <p>-Kentucky Breafast Hazelnut Fudge ‚Äî Founders (Stout - 11.0%)</p>
          <p>-Peanut Butter Cuppa ‚Äî Maplewood (Stout - 11.0%)</p>
        </div>

      </div>
    </section>



    <!-- Hard Selzter Section -->
    <section class="drink-category" id="Hard_Selzter">
      <h2>Hard Seltzer<span class="triangle"></span></h2>
      <div class="dropdown-content">
        <div class="drink">
          <h3>-Lime</h3>
          <h3>-Mango</h3>
          <h3>-Raspberry</h3>
          <h3>-Black Cherry</h3>
          <h3>-Grapefruit</h3>
          <h3>-Ruby Grapefruit</h3>
        </div>
      </div>
    </section>



    <!-- Mixers Section -->
    <section class="drink-category" id="mixers">
      <h2>Sodas & Mixers<span class="triangle"></span></h2>
      <div class="dropdown-content">
        <div class="drink">
          <h3>-Coke</h3>
          <h3>-Diet Coke</h3>
          <h3>-Ginger Ale</h3>
          <h3>-Ginger Beer</h3>
          <h3>-Sprite</h3>
          <h3>-Diet Pepsie</h3>
          <h3>-Selzter/Club Soda</h3>
          <h3>-Cranberry Juice</h3>
        </div>
      </div>
    </section>

    <!-- Wine Section -->
    <section class="drink-category" id="wines">
      <h2>Wines<span class="triangle"></span></h2>
      <div class="dropdown-content">
        <div class="drink">
          <h3>-Red</h3>
          <h3>-White</h3>
        </div>
      </div>
    </section>

  </main>

  <footer>
    <p class="main">We wish you a <br><strong>MERRY CHRISTMAS</strong><br> and a <br><strong>PROSPEROUS NEW YEAR!</strong><br><span class="family-name">- The Okrzesik Family</span></p>
  </footer>
</body>
</html>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const categories = Array.from(document.querySelectorAll('.drink-category'));
  const navButtons = Array.from(document.querySelectorAll('.category-nav button'));

  let suppressScrollHighlight = false; // ignore scroll highlight during smooth scroll from nav

  // Helper: highlight the nav button that matches a section ID
  // If targetId is null/undefined, this clears all highlights
  function setActiveNav(targetId) {
    navButtons.forEach(btn => {
      const t = btn.getAttribute('data-target');
      btn.classList.toggle('active', targetId && t === targetId);
    });
  }

  // Toggle sections when their headers are tapped
  categories.forEach(section => {
    const h2 = section.querySelector('h2');
    if (!h2) return;

    h2.addEventListener('click', () => {
      const nowActive = section.classList.toggle('active');
      const id = section.id;

      if (nowActive && id) {
        // This section was just opened
        setActiveNav(id);
      } else {
        // This section was just closed; if no sections are open, clear all highlights
        const anyActive = categories.some(sec => sec.classList.contains('active'));
        if (!anyActive) {
          setActiveNav(null);
        }
      }
    });
  });

  // Top nav buttons: scroll to section + highlight that button
  navButtons.forEach(button => {
    button.addEventListener('click', () => {
      const targetId = button.getAttribute('data-target');
      const targetSection = document.getElementById(targetId);
      if (!targetSection) return;

      suppressScrollHighlight = true; // don't let scroll fight the highlight

      targetSection.classList.add('active'); // make sure it's open
      setActiveNav(targetId);

      targetSection.scrollIntoView({ behavior: 'smooth', block: 'start' });

      // Re-enable scroll-based highlighting after the smooth scroll is basically done
      setTimeout(() => {
        suppressScrollHighlight = false;
      }, 700); // tweak if you ever change scroll speed
    });
  });

  // "Surprise Me" random cocktail button with roulette-style flashing + slowdown + final triple flash
  const randomBtn = document.getElementById('random-cocktail-btn');
  let isRolling = false;

  if (randomBtn) {
    randomBtn.addEventListener('click', () => {
      if (isRolling) return; // ignore extra clicks while rolling

      const cocktailsSection = document.getElementById('specialty-drinks');
      if (!cocktailsSection) return;

      // üî• Build list of drinks, EXCLUDING "Custom Cocktail"
      const allDrinks = Array.from(cocktailsSection.querySelectorAll('.drink'))
      .filter(drink => !drink.querySelector('.Exclude-Drink')); // exclude any with that class
      const drinks = allDrinks;

      if (!drinks.length) return;

      isRolling = true;
      suppressScrollHighlight = true;

      // Make sure cocktails is open + nav highlighted
      cocktailsSection.classList.add('active');
      setActiveNav('specialty-drinks');

      // Center the cocktails section before starting roulette
      cocktailsSection.scrollIntoView({ behavior: 'smooth', block: 'center' });

      // Clear previous highlights/rolling
      document
        .querySelectorAll('.drink.highlight-choice, .drink.rolling-choice')
        .forEach(el => {
          el.classList.remove('highlight-choice', 'rolling-choice');
        });

      let currentIndex = -1;
      let ticks = 0;
      const totalTicks = 18;      // total flashes
      const slowCount = 3;        // last N flashes slower
      const fastDelay = 90;       // ms at start
      const slowDelay = 300;      // ms for slowdown
      const slowStart = totalTicks - slowCount;

      function spin() {
        // Remove previous rolling highlight
        if (currentIndex >= 0) {
          drinks[currentIndex].classList.remove('rolling-choice');
        }

        // Pick a new random drink for the flash
        currentIndex = Math.floor(Math.random() * drinks.length);
        drinks[currentIndex].classList.add('rolling-choice');

        ticks++;

        // If we reached the end, finalize the chosen drink
        if (ticks >= totalTicks) {
          const finalDrink = drinks[currentIndex];

          // Stop rolling highlight
          finalDrink.classList.remove('rolling-choice');

          // Scroll the chosen drink into view
          finalDrink.scrollIntoView({ behavior: 'smooth', block: 'center' });

          // üî• NEW ‚Äî triple final flash
          let flashCount = 0;
          function tripleFlash() {
            flashCount++;

            // toggle highlight on/off
            finalDrink.classList.toggle('highlight-choice');

            if (flashCount < 6) {
              // 6 toggles = 3 full flashes
              setTimeout(tripleFlash, 180);
            } else {
              // keep it highlighted for a few seconds
              finalDrink.classList.add('highlight-choice');

              setTimeout(() => {
                // fade the highlight
                finalDrink.classList.remove('highlight-choice');
                suppressScrollHighlight = false;
                isRolling = false;
              }, 2000); // stays highlighted for ~2.5 seconds
            }
          }

          tripleFlash();
          return;
        }

        // Pick delay based on whether we're in slowdown
        const delay = (ticks >= slowStart) ? slowDelay : fastDelay;
        setTimeout(spin, delay);
      }

      // Start the roulette
      spin();
    });
  }



  // While scrolling, update which nav button is active
  window.addEventListener('scroll', () => {
    if (suppressScrollHighlight) return;

    const anyActive = categories.some(sec => sec.classList.contains('active'));
    if (!anyActive) {
      // No open dropdowns -> no highlighted buttons
      setActiveNav(null);
      return;
    }

    const viewportCenter = window.innerHeight / 2; // middle of the screen

    const doc = document.documentElement;
    const scrollBottom = window.scrollY + window.innerHeight;
    const docHeight = doc.scrollHeight;
    const bottomThreshold = 40; // px from absolute bottom we consider "at the bottom"

    let currentId = null;

    // If we're at (or very near) the bottom, force the last section as active
    if (docHeight - scrollBottom < bottomThreshold) {
      const lastSection = categories[categories.length - 1];
      if (lastSection && lastSection.id) {
        currentId = lastSection.id;
      }
    } else {
      // Normal behavior: use whichever section crosses the middle of the screen
      for (const section of categories) {
        const rect = section.getBoundingClientRect();
        const sectionTop = rect.top;
        const sectionBottom = rect.bottom;

        if (sectionTop <= viewportCenter && sectionBottom >= viewportCenter) {
          currentId = section.id;
          break;
        }
      }
    }

    if (currentId) {
      setActiveNav(currentId);
    }
  });
});
</script>